var Channel=function(){"use strict";var e,n={},c=function(e){var c;for(c in n)if(n[c]===e)return!0;return!1},i=function(i){var t,r=function(e,n){return(void 0===t[e]||n)&&(t[e]={callbacks:[],silenced:!1,locked:!1}),t[e]},s=!1,l=!1;return t={},"string"==typeof i?(n[i]={},i=n[i]):i="object"==typeof i?i:this||{},i.on=function(e,n,c,l){return s||t[e]&&t[e].locked?i:(r(e).callbacks.push({f:n,context:c,silenced:!1,async:l===!1?-1:0|l}),this)},i.attach=i.on,i.off=function(e,n){var r,l;if(s===!1)if(c(i)){if(void 0!==e&&t[e]&&void 0!==n)for(l=0;l<t[e].callbacks.length;l+=1)t[e].callbacks.splice(l,1)}else if(void 0===e)for(r in t)t[r].callbacks=[];else if(t[e]&&t[e].locked===!1)if(void 0===n)t[e].callbacks=[];else for(l=0;l<t[e].callbacks.length;l+=1)t[e].callbacks.splice(l,1);return this},i.detach=i.off,e=function(e,n,c){var r,s,o,f,a;if(l||t[e]&&t[e].silenced)return i;for(o=t[e]&&t[e].callbacks||[],f=o.length,a=0,c=c===!1?-1:0|c;f>a;a+=1)s=o[a],s.silenced||(r=s.async+c,0===s.async&&0===c||r>0||1===c?setTimeout(function(){this.func.apply(this.context,this.data.concat([this]))}.bind({func:s.f,context:s.context,name:e,channel:i,async:!0,data:n}),0):(0>r||-1===c)&&o[a].f.apply(o[a].context,n.concat([{func:s.f,context:s.context,name:e,channel:i,async:!1,data:n}])));return this},i.emit=function(n){return e.call(i,n,Array.prototype.slice.call(arguments,1))},i.emitSync=function(n){return e.call(i,n,Array.prototype.slice.call(arguments,1),!1)},i.emitAsync=function(n){return e.call(i,n,Array.prototype.slice.call(arguments,1),!0)},i.fire=i.trigger=i.emit,i.fireSync=i.triggerSync=i.emitSync,i.fireAsync=i.triggerAsync=i.emitAsync,i.silence=function(e,n){var s,o,f;if(c(i))return i;if(void 0===e)return l=!0,i;if(void 0===n)return r(e).silenced=!0,i;if(s=t[e],void 0!==s)for(f=s.callbacks.length,o=0;f>o;o+=1)s.callbacks[o].f===n&&(s.callbacks[o].silenced=!0);return this},i.unsilence=function(e,n){var s,o,f;if(c(i))return i;if(void 0===e&&(l=!1),void 0===n&&(r(e).silenced=!1),s=t[e],void 0!==s)for(f=s.callbacks.length,o=0;f>o;o+=1)s.callbacks[o].f===n&&(s.callbacks[o].silenced=!1);return this},i.lock=function(e){return c(i)||(void 0===e?s=!0:r(e).locked=!0),this},i.unlock=function(e){return c(i)||(void 0===e?s=!1:r(e).locked=!1),this},i.reset=function(e){return c(i)||null!==t&&(void 0===e?t={}:r(e,!0)),this},i.isSilenced=function(e,n){var c,i,r;if(void 0===e||l)return l;if(t[e]&&(void 0===n||t[e].silenced))return t[e].silenced;if(c=t[e],void 0!==c)for(r=c.callbacks.length,i=0;r>i;i+=1)if(c.callbacks[i].f===n)return c.callbacks[i].silenced;return!1},i.isLocked=function(e){return void 0===e||s?s:(t[e]||!1)&&t[e].locked},i.restrict=function(e,n){var c,i,t={},r=this;return void 0===e&&(e=[]),e.push("isSilenced","isLocked","restrict"),void 0===n&&(n=[]),i={on:["on","attach"],attach:["on","attach"],off:["off","detach"],detach:["off","detach"],emit:["emit","emitSync","emitAsync","fire","fireSync","fireAsync","trigger","triggerSync","triggerAsync"],fire:["emit","emitSync","emitAsync","fire","fireSync","fireAsync","trigger","triggerSync","triggerAsync"],trigger:["emit","emitSync","emitAsync","fire","fireSync","fireAsync","trigger","triggerSync","triggerAsync"],emitSync:["emitSync","fireSync","triggerSync"],fireSync:["emitSync","fireSync","triggerSync"],triggerSync:["emitSync","fireSync","triggerSync"],emitAsync:["emitAsync","fireAsync","triggerAsync"],fireAsync:["emitAsync","fireAsync","triggerAsync"],triggerAsync:["emitAsync","fireAsync","triggerAsync"],silence:["silence","unsilence"],unsilence:["unsilence","silence"],lock:["lock","unlock"],unlock:["unlock","lock"],isSilenced:["isSilenced"],isLocked:["isLocked"],restrict:["restrict"]},e.forEach(function(e){if(void 0!==i[e])for(c in i[e])-1===n.indexOf(c)&&void 0!==r[i[e][c]]&&(t[i[e][c]]=r[i[e][c]])}),t},i};return i.get=function(e){return n[e]},i}();!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.Channel=n()}(this,function(){return Channel});
//# sourceMappingURL=multivents.min.js.map